<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Happy New Year My Love ‚ù§Ô∏è</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    *{
      margin:0;
      padding:0;
      box-sizing:border-box;
      font-family:"Poppins",sans-serif;
    }

    body{
      background:radial-gradient(#000428,#004e92);
      height:100vh;
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
    }

    /* scrollable card container */
    .container{
      text-align:center;
      max-width:850px;
      max-height:95vh;
      padding:22px;
      overflow-y:auto;
      scrollbar-width:none;          /* Firefox */
    }

    /* hide scrollbar Chrome/Edge/Safari */
    .container::-webkit-scrollbar{
      display:none;
    }

    h1{
      font-size:3rem;
      margin-bottom:10px;
      animation:glow 2.5s ease-in-out infinite alternate;
    }

    @keyframes glow{
      from{ text-shadow:0 0 10px #fff,0 0 20px #ff005b;}
      to{ text-shadow:0 0 20px #fff,0 0 40px #ff005b;}
    }

    .message{
      font-size:1.2rem;
      min-height:120px;
      margin-top:8px;
    }

    .love-typing{
      margin-top:18px;
      font-size:1.2rem;
      min-height:140px;
      line-height:1.6;
    }

    .heart{
      position:fixed;
      color:#ff5d8f;
      animation:floatUp 5s linear forwards;
      opacity:.8;
    }

    @keyframes floatUp{
      0%{ transform:translateY(0) scale(.5);opacity:1;}
      100%{ transform:translateY(-120vh) scale(1.2);opacity:0;}
    }

    .btn{
      margin-top:15px;
      padding:10px 22px;
      border-radius:25px;
      border:none;
      background:#ff2d55;
      color:white;
      cursor:pointer;
      font-size:1rem;
    }

    .btn:hover{
      transform:scale(1.05);
    }

    canvas{
      position:fixed;
      top:0;
      left:0;
      pointer-events:none;
    }
  </style>
</head>
<body>

<canvas id="fireworks"></canvas>

<div class="container">
  <h1>üéÜ Happy New Year, My Love ‚ù§Ô∏è</h1>

  <div class="message" id="msg"></div>

  <button class="btn" id="btn1" onclick="startMessage()">Click here üíó</button>

  <button class="btn" id="btn2" onclick="startLoveTyping()" style="display:none;">
    Click to see something special üíû
  </button>

  <div class="love-typing" id="loveBox"></div>
</div>

<!-- üéµ WORKING music link -->
<audio
  id="bgm"
  loop
  preload="auto"
  playsinline
  src="https://cdn.pixabay.com/audio/2023/03/30/audio_3b0de2ac3f.mp3">
</audio>

<script>
/* ---------------- MAIN MESSAGE ---------------- */

const text =
" My dearest love,\n\n" +
" Thank you for being the most beautiful part of my life.\n" +
" Your smile, your voice, your presence ‚Äî everything feels like magic.\n" +
" In this New Year, I only wish to hold your hands more tightly,\n" +
" laugh a little louder with you, and love you even deeper.\n\n" +
" You are my today, my tomorrow and my forever. üíñ\n\n" +
" üéâ Happy New Year, my sweetheart!";

const msg = document.getElementById("msg");
let i = 0;

function typeWriter(){
  if(i < text.length){
    msg.innerHTML += (text.charAt(i)==="\n") ? "<br>" : text.charAt(i);
    i++;
    setTimeout(typeWriter,45);
  } else {
    document.getElementById("btn2").style.display="inline-block";
  }
}

function startMessage(){
  typeWriter();
  makeHearts();
  playMusic();
  document.getElementById("btn1").style.display="none";
}

/* ---------------- MUSIC FIX ---------------- */

function playMusic(){
  const audio = document.getElementById("bgm");
  audio.volume = 0.8;

  audio.play().catch(()=>{
    const fix = document.createElement("button");
    fix.className="btn";
    fix.innerHTML="Tap to enable music üéµ";
    fix.onclick=()=>{ audio.play(); fix.remove(); };
    document.body.appendChild(fix);
  });
}

/* ---------------- HEARTS ---------------- */

function makeHearts(){
  setInterval(()=>{
    const heart=document.createElement("div");
    heart.className="heart";
    heart.innerHTML="‚ù§Ô∏è";
    heart.style.left=Math.random()*window.innerWidth+"px";
    heart.style.fontSize=20+Math.random()*40+"px";
    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),5000);
  },400);
}

/* ---------------- 108 LOVE TYPING ---------------- */

let loveText = "";
for(let n=1; n<=108; n++){
  loveText += `${n}. I Love You Sonu üíñ\n`;
}

let j=0;
function loveTypeWriter(){
  const loveBox=document.getElementById("loveBox");
  if(j < loveText.length){
    loveBox.innerHTML += (loveText.charAt(j)==="\n") ? "<br>" : loveText.charAt(j);
    j++;
    setTimeout(loveTypeWriter,25);
  }
}

function startLoveTyping(){
  loveTypeWriter();
  document.getElementById("btn2").style.display="none";
}

/* ---------------- COLORFUL FIREWORKS ---------------- */

const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");

function resize(){
  canvas.width=innerWidth;
  canvas.height=innerHeight;
}
resize();
addEventListener("resize",resize);

const fireworks=[];

function randomColor(){
  const colors=["#ff004f","#ffdd00","#4dff00","#00e5ff","#ff7af6","#ffa500","#00ffbf"];
  return colors[Math.floor(Math.random()*colors.length)];
}

function createFirework(){
  const x=Math.random()*canvas.width;
  const y=Math.random()*canvas.height/2;
  const color=randomColor();
  for(let i=0;i<60;i++){
    fireworks.push({
      x,y,
      angle:Math.random()*Math.PI*2,
      speed:Math.random()*4+1,
      life:100,
      color
    });
  }
}

function updateFireworks(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  fireworks.forEach((f,idx)=>{
    f.x+=Math.cos(f.angle)*f.speed;
    f.y+=Math.sin(f.angle)*f.speed;
    f.life--;

    ctx.globalAlpha=f.life/100;
    ctx.beginPath();
    ctx.arc(f.x,f.y,2,0,2*Math.PI);
    ctx.fillStyle=f.color;
    ctx.fill();

    if(f.life<=0) fireworks.splice(idx,1);
  });

  if(Math.random()<0.18) createFirework();
  requestAnimationFrame(updateFireworks);
}
updateFireworks();
</script>

</body>
</html>
